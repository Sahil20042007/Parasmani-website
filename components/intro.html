<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Parasmani Testimonials</title>
    <link rel="stylesheet" href="testimonials.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
</head>
<body>

    <section class="testimonial-section" id="testimonials">
        <div class="container split-layout">
            
            <div class="left-col">
                <div class="left-content-wrapper">
                    
                    <div class="section-header">
                        <div class="badge">
                            <span class="pulse-dot"></span>
                            CLIENT FEEDBACK
                        </div>
                        <h2>Success <br> <span class="gradient-text">Stories</span></h2>
                    </div>

                    <div class="identity-stack">
                        
                        <div class="identity-card active" data-id="1">
                            <div class="big-number">01</div>
                            <div class="stars">â˜…â˜…â˜…â˜…â˜…</div>
                            <h3 class="client-name">Rajesh Verma</h3>
                            <div class="client-role">
                                <span class="role-icon">ğŸ’¼</span>
                                <span class="role-text">Project Director</span>
                            </div>
                            <div class="client-company">@ L&T Construction</div>
                        </div>

                        <div class="identity-card" data-id="2">
                            <div class="big-number">02</div>
                            <div class="stars">â˜…â˜…â˜…â˜…â˜…</div>
                            <h3 class="client-name">Amitabh Desai</h3>
                            <div class="client-role">
                                <span class="role-icon">âš™ï¸</span>
                                <span class="role-text">Procurement Head</span>
                            </div>
                            <div class="client-company">@ Tata Motors</div>
                        </div>

                        <div class="identity-card" data-id="3">
                            <div class="big-number">03</div>
                            <div class="stars">â˜…â˜…â˜…â˜…â˜…</div>
                            <h3 class="client-name">Sarah Williams</h3>
                            <div class="client-role">
                                <span class="role-icon">ğŸ—ï¸</span>
                                <span class="role-text">Chief Architect</span>
                            </div>
                            <div class="client-company">@ Shapoorji Pallonji</div>
                        </div>

                    </div>
                </div>
            </div>

            <div class="right-col">
                <div class="quotes-wrapper">
                    
                    <div class="quote-block" data-id="1">
                        <div class="quote-icon">â€œ</div>
                        <p class="quote-text">
                            The TMT bars from Parasmani completely redefined our structural strength standards. The ductility and consistency in the steel composition are unlike anything we've tested in the last decade.
                        </p>
                    </div>

                    <div class="quote-block" data-id="2">
                        <div class="quote-icon">â€œ</div>
                        <p class="quote-text">
                            We switched our alloy steel sourcing to Parasmani six months ago. The reduction in material rejection rates was measurable within 48 hours. They understand 'quality', not just supply.
                        </p>
                    </div>

                    <div class="quote-block" data-id="3">
                        <div class="quote-icon">â€œ</div>
                        <p class="quote-text">
                            Finally, a steel partner that speaks the language of modern infrastructure. Their logistics and on-time delivery bridged the gap between our design team and the construction site perfectly.
                        </p>
                    </div>

                </div>
            </div>

        </div>
    </section>

    <script>
        document.addEventListener("DOMContentLoaded", (event) => {
            gsap.registerPlugin(ScrollTrigger);

            // 1. PINNING THE LEFT SIDE
            // We pin the .left-col while the .right-col scrolls
            ScrollTrigger.create({
                trigger: ".testimonial-section",
                start: "top top",
                end: "bottom bottom",
                pin: ".left-col",
                pinSpacing: false // Important for split layout
            });

            // 2. SYNCING QUOTES WITH IDENTITIES
            const quotes = document.querySelectorAll('.quote-block');
            const identities = document.querySelectorAll('.identity-card');

            quotes.forEach((quote, i) => {
                ScrollTrigger.create({
                    trigger: quote,
                    start: "top center", // When quote hits center of screen
                    end: "bottom center",
                    onEnter: () => updateActive(i),
                    onEnterBack: () => updateActive(i)
                });
            });

            function updateActive(index) {
                // Remove active class from all
                identities.forEach(id => {
                    id.classList.remove('active');
                    gsap.to(id, { opacity: 0, x: -20, duration: 0.3 });
                });
                quotes.forEach(q => q.classList.remove('active'));

                // Add active class to current
                const currentId = identities[index];
                const currentQuote = quotes[index];

                currentId.classList.add('active');
                currentQuote.classList.add('active');

                // Animate entry
                gsap.to(currentId, { opacity: 1, x: 0, duration: 0.5, ease: "power2.out" });
            }
        });
    </script>

</body>
</html>